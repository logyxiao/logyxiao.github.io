import{_ as n,c as s,o as a,f as t}from"./app.63ebbcf3.js";const m='{"title":"Promise \u5B9E\u73B0","description":"","frontmatter":{"date":"2020-12-04T00:00:00.000Z","title":"Promise \u5B9E\u73B0","tags":["\u524D\u7AEF"]},"headers":[{"level":2,"title":"Promise\u51FA\u73B0\u539F\u56E0","slug":"promise\u51FA\u73B0\u539F\u56E0"},{"level":2,"title":"\u539F\u7406","slug":"\u539F\u7406"},{"level":3,"title":"\u57FA\u672C\u9700\u6C42","slug":"\u57FA\u672C\u9700\u6C42"}],"relativePath":"posts/frontend/promise.md","lastUpdated":1633868750630}',p={},o=t(`__VP_STATIC_START__<h1 id="promise-\u5B9E\u73B0" tabindex="-1">Promise \u5B9E\u73B0 <a class="header-anchor" href="#promise-\u5B9E\u73B0" aria-hidden="true">#</a></h1><h2 id="promise\u51FA\u73B0\u539F\u56E0" tabindex="-1">Promise\u51FA\u73B0\u539F\u56E0 <a class="header-anchor" href="#promise\u51FA\u73B0\u539F\u56E0" aria-hidden="true">#</a></h2><p>\u7531\u4E8E\u5728\u7F51\u9875\u4EA4\u4E92\u8FC7\u7A0B\u4E2D,\u7528\u6237\u7ECF\u5E38\u8981\u5411\u670D\u52A1\u5668\u8BF7\u6C42\u6570\u636E,\u800C\u7528\u6237\u7684\u4E0A\u7F51\u73AF\u5883\u7684\u4E0D\u540C,\u6570\u636E\u8BF7\u6C42\u56DE\u6765\u7684\u5E76\u4E0D\u662F\u5373\u65F6\u7684,\u6240\u4EE5\u53EA\u80FD\u901A\u8FC7<code>\u56DE\u8C03\u51FD\u6570</code>\u6765\u8FDB\u884C\u8BF7\u6C42\u6570\u636E\u6210\u529F\u540E\u7684\u540E\u7EED\u64CD\u4F5C.\u6240\u5F53\u4E00\u4E2A\u64CD\u4F5C\u9700\u8981\u8FDE\u7EED\u7684\u5F02\u6B65\u8BF7\u6C42\u65F6,\u4FBF\u5F62\u6210\u4E86<code>\u56DE\u8C03\u5730\u72F1</code>.</p><p>\u4F8B\u5982,\u6709\u4E00\u4E2A\u5907\u5FD8\u5F55 app.</p><p>\u5047\u8BBE\u8FD9\u4E00\u6B65\u64CD\u4F5C,\u8981\u8FDE\u7EED\u8FDB\u884C.</p><div class="language-js"><pre><code>    <span class="token comment">// 1. \u9A8C\u8BC1\u7528\u6237\u8D26\u53F7\u5BC6\u7801\u662F\u5426\u6B63\u786E</span>
    $<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      url<span class="token operator">:</span> <span class="token string">&quot;xxx.com&quot;</span><span class="token punctuation">,</span>
      <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">info</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 2.  \u6839\u636E\u7528\u6237\u4FE1\u606F\u83B7\u5F97\u5907\u5FD8\u5F55\u5217\u8868</span>
        $<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          url<span class="token operator">:</span> <span class="token string">&quot;xxx.com&quot;</span><span class="token punctuation">,</span>
          <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">id</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// 3.  \u6839\u636E\u5907\u5FD8\u5F55 ID \u83B7\u53D6\u5907\u5FD8\u5F55\u8BE6\u60C5...</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>\u8FD9\u79CD\u56DE\u8C03\u5730\u72F1\u8BA9\u4EE3\u7801\u53EF\u8BFB\u6027\u5DEE,\u4E0D\u5229\u7528\u7EF4\u62A4.</p><p>\u4F7F\u7528 <code>promise</code></p><div class="language-js"><pre><code>    <span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        $<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          url<span class="token operator">:</span> <span class="token string">&quot;xxx.com&quot;</span><span class="token punctuation">,</span>
          <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">resolve</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    test
      <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">info</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">// 2.  \u6839\u636E\u7528\u6237\u4FE1\u606F\u83B7\u5F97\u5907\u5FD8\u5F55\u5217\u8868...</span>
        <span class="token keyword">return</span> id<span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">id</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">// 3.  \u6839\u636E\u5907\u5FD8\u5F55 ID \u83B7\u53D6\u5907\u5FD8\u5F55\u8BE6\u60C5...</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>\u56E0\u4E3A<code>promise</code>\u7684\u94FE\u5F0F\u7ED3\u6784,\u4F7F\u5F97\u8FC7\u7A0B\u770B\u8D77\u6765\u662F\u4E00\u6B65\u4E00\u6B65\u8FDB\u884C\u7684,\u5C06\u5F02\u6B65\u64CD\u4F5C\u961F\u5217\u5316,\u4EE3\u7801\u903B\u8F91\u53D8\u5F97\u6E05\u6670\u53EF\u89C1.</p><h2 id="\u539F\u7406" tabindex="-1">\u539F\u7406 <a class="header-anchor" href="#\u539F\u7406" aria-hidden="true">#</a></h2><h3 id="\u57FA\u672C\u9700\u6C42" tabindex="-1">\u57FA\u672C\u9700\u6C42 <a class="header-anchor" href="#\u57FA\u672C\u9700\u6C42" aria-hidden="true">#</a></h3><ol><li>\u6211\u4EEC\u9700\u8981\u77E5\u9053\u5F02\u6B65\u64CD\u4F5C\u7684\u5F53\u524D\u72B6\u6001, \u5373: <ol><li>\u8BF7\u6C42\u4E2D</li><li>\u5DF2\u5B8C\u6210 - \u8FD4\u56DE\u6210\u529F\u7ED3\u679C</li><li>\u5DF2\u5931\u8D25 - \u8FD4\u56DE\u5931\u8D25\u539F\u56E0</li></ol></li><li>\u72B6\u6001\u53EA\u4F1A\u4ECE\u8BF7\u6C42\u4E2D\u53D8\u6210\u6210\u529F\u6216\u8005\u5931\u8D25.</li><li>\u5F02\u6B65\u64CD\u4F5C\u7684\u6210\u529F\u548C\u5931\u8D25\u7684\u56DE\u8C03\u51FD\u6570 <ul><li>\u6210\u529F\u56DE\u8C03</li><li>\u5931\u8D25\u56DE\u8C03</li></ul></li></ol><div class="language-js"><pre><code> <span class="token keyword">const</span> \u7B49\u5F85\u4E2D <span class="token operator">=</span> <span class="token string">&quot;\u7B49\u5F85\u4E2D&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> \u5DF2\u89E3\u51B3 <span class="token operator">=</span> <span class="token string">&quot;\u5DF2\u89E3\u51B3&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> \u5DF2\u5931\u8D25 <span class="token operator">=</span> <span class="token string">&quot;\u5DF2\u5931\u8D25&quot;</span><span class="token punctuation">;</span>

    <span class="token keyword">class</span> \u627F\u8BFA <span class="token punctuation">{</span>
      <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">\u6267\u884C\u5668</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>\u72B6\u6001 <span class="token operator">=</span> <span class="token string">&quot;\u7B49\u5F85\u4E2D&quot;</span><span class="token punctuation">;</span>
        <span class="token keyword">const</span> <span class="token function-variable function">\u6210\u529F</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">\u503C</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>\u72B6\u6001 <span class="token operator">===</span> \u7B49\u5F85\u4E2D<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>\u72B6\u6001 <span class="token operator">=</span> \u6210\u529F<span class="token punctuation">;</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;\u6267\u884C\u6210\u529F&quot;</span><span class="token punctuation">,</span> \u503C<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token keyword">const</span> <span class="token function-variable function">\u5931\u8D25</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">\u9519\u8BEF</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>\u72B6\u6001 <span class="token operator">===</span> \u7B49\u5F85\u4E2D<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>\u72B6\u6001 <span class="token operator">=</span> \u5931\u8D25<span class="token punctuation">;</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;\u6267\u884C\u5931\u8D25&quot;</span><span class="token punctuation">,</span> \u9519\u8BEF<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
          <span class="token function">\u6267\u884C\u5668</span><span class="token punctuation">(</span>\u6210\u529F<span class="token punctuation">,</span> \u5931\u8D25<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>\u9519\u8BEF<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token function">\u5931\u8D25</span><span class="token punctuation">(</span>\u9519\u8BEF<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre></div>__VP_STATIC_END__`,14),c=[o];function e(u,l,i,k,r,d){return a(),s("div",null,c)}var h=n(p,[["render",e]]);export{m as __pageData,h as default};
